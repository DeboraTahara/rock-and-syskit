<!DOCTYPE html>
<html lang="en">
    <head>
        <meta content="IE=edge" http-equiv="X-UA-Compatible">
        <meta charset="utf-8">
        <meta content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" name="viewport">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>Robot Construction Toolkit</title>

        <link href="../images/favicon.ico" rel="icon" type="image/ico" relative="true" />
        <link href="../stylesheets/site.css" rel="stylesheet" />
        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" />
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        <style>
          /* Remove the navbar's default margin-bottom and rounded borders */
          .navbar {
              margin-bottom: 0;
              border-radius: 0;

          }

          /* Set height of the grid so .sidenav can be 100% (adjust as needed) */
          .row.content {height: 450px}

          /* Set gray background color and 100% height */
          .sidenav {
              padding-top: 20px;
              background-color: #f1f1f1;
              height: 100%;
          }

          /* Set black background color, white text and some padding */
          footer {
              background-color: #000000;
              color: white;
              padding: 5px;
          }

          /* On small screens, set height to 'auto' for sidenav and grid */
          @media screen and (max-width: 767px) {
              .sidenav {
                  height: auto;
                  padding: 15px;
              }
              .row.content {height:auto;}
          }
        </style>
    </head>

    <body class="syskit_basics syskit_basics_index">

            <!-- top navbar -->
    <nav class="navbar navbar-inverse">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
            </div>
            <div class="collapse navbar-collapse" id="myNavbar">
                <ul class="nav navbar-nav">
                    <li><a href="../">Home</a></li>
                    <li><a href="../about.html">About</a></li>
                </ul>
            </div>
        </div>
    </nav>
    <div class="container-fluid">
        <div class="row content">
            <div class="col-sm-3 sidenav">
                <ul><li class='child '><a href="../">Building robots with Rock and Syskit</a></li><li class='parent '><span class='parent-label'><a href="../workspace/">The Workspace</a></span><ul><li class='child '><a href="../workspace/">Introduction</a></li><li class='child '><a href="../workspace/install.html">Installing Rock</a></li><li class='child '><a href="../workspace/day_to_day.html">Day-to-day</a></li></ul></li><li class='parent '><span class='parent-label'><a href="./">Basics</a></span><ul><li class='child active'><a href="./">Introduction</a></li><li class='child '><a href="getting_started.html">Getting Started</a></li><li class='child '><a href="composition.html">Compositions</a></li><li class='child '><a href="constant_generator.html">Constant Generator</a></li><li class='child '><a href="devices.html">Devices</a></li><li class='child '><a href="deployment.html">Deployment</a></li></ul></li><li class='parent '><span class='parent-label'><a href="../transformations/">Transformations</a></span><ul><li class='child '><a href="../transformations/">Geometric Relations</a></li></ul></li></ul>
            </div>
            <div class="col-sm-7 text-left">
                <h1 id="running-a-simple-system-using-gazebo-and-syskit">Running a simple system using Gazebo and Syskit</h1>

<p>Rock and Syskit provide a seamless integration with Gazebo. We will leverage
this integration in this section to discover how to use existing components to
build and control a minimal system. This should give you a hint about what Rock
offers at runtime as well as the basics of package and component management.</p>

<p>This will cover building a simple system and simulating using Gazebo. It will
only base itself on existing components (no new components will be developed).</p>

<p>This section assumes that you have a <a href="../workspace/">bootstrapped Rock
installation</a>.  All examples that have to be run inside a
terminal assume that you have sourced this installation's <code>env.sh</code> file in the
current terminal.</p>

<p class="advanced-topic">When applicable, we will breach advanced topics, or explanations about how
things are implemented under-the-hood. These will be clearly indicated by
a box, just like this one.</p>

<p>We'll be following this flow (click on the steps title to go directly there):</p>

<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- Created with Inkscape (http://www.inkscape.org/) -->

<svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" width="210mm" height="297mm" viewBox="0 0 744.09448819 1052.3622047" id="svg5851" version="1.1" inkscape:version="0.91 r13725" sodipodi:docname="flow.svg">
  <defs id="defs5853" />
  <sodipodi:namedview id="base" pagecolor="#ffffff" bordercolor="#666666" borderopacity="1.0" inkscape:pageopacity="0.0" inkscape:pageshadow="2" inkscape:zoom="0.98994949" inkscape:cx="6.7985822" inkscape:cy="879.17468" inkscape:document-units="px" inkscape:current-layer="layer1" showgrid="false" inkscape:window-width="1550" inkscape:window-height="1037" inkscape:window-x="358" inkscape:window-y="0" inkscape:window-maximized="0" />
  <metadata id="metadata5856">
    <rdf:RDF>
      <cc:Work rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title />
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g inkscape:label="Layer 1" inkscape:groupmode="layer" id="layer1">
    <rect style="color:#000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:#000000;solid-opacity:1;fill:#dae8f5;fill-opacity:1;fill-rule:evenodd;stroke:#7daedb;stroke-width:0.99999988;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate" id="rect7561" width="229.4397" height="79.808449" x="256.82233" y="144.1976" rx="7.8122015" ry="7.8122001" />
    <text xml:space="preserve" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:15px;line-height:125%;font-family:Arial;-inkscape-font-specification:'Arial, Normal';text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" x="24.748737" y="37.663971" id="text6405" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan6407" x="24.748737" y="37.663971" /></text>
    <a id="a6604" xlink:href="/syskit_basics/getting_started.html">
      <text sodipodi:linespacing="125%" id="text6409" y="182.9045" x="26.263968" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:15px;line-height:125%;font-family:Arial;-inkscape-font-specification:'Arial, Normal';text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" xml:space="preserve"><tspan y="182.9045" x="26.263968" id="tspan6411" sodipodi:role="line">Getting Started</tspan></text>
    </a>
    <text xml:space="preserve" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:15px;line-height:125%;font-family:Arial;-inkscape-font-specification:'Arial, Normal';text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" x="281.21228" y="173.5295" id="text6413" sodipodi:linespacing="125%"><tspan sodipodi:role="line" id="tspan6415" x="281.21228" y="173.5295">Bundles, creating a SDF</tspan><tspan sodipodi:role="line" x="281.21228" y="192.2795" id="tspan6417">scene, run Gazebo and</tspan><tspan sodipodi:role="line" x="281.21228" y="211.0295" id="tspan4175">visualize the scene</tspan></text>
    <rect style="color:#000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:#000000;solid-opacity:1;fill:#dae8f5;fill-opacity:1;fill-rule:evenodd;stroke:#7daedb;stroke-width:0.99999988;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate" id="rect7561-0" width="229.2627" height="66.676514" x="257.41589" y="239.11719" rx="7.8122015" ry="7.8121996" />
    <a id="a6608" xlink:href="/syskit_basics/arm_control.html">
      <text sodipodi:linespacing="125%" id="text6409-6" y="268.45276" x="25.287159" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:15px;line-height:125%;font-family:Arial;-inkscape-font-specification:'Arial, Normal';text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" xml:space="preserve"><tspan y="268.45276" x="25.287159" id="tspan6411-0" sodipodi:role="line">Creating a Arm Control</tspan><tspan id="tspan6502" y="287.20276" x="25.287159" sodipodi:role="line">Network</tspan></text>
    </a>
    <text xml:space="preserve" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:15px;line-height:125%;font-family:Arial;-inkscape-font-specification:'Arial, Normal';text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" x="278.39978" y="269.74655" id="text6413-8" sodipodi:linespacing="125%"><tspan sodipodi:role="line" x="278.39978" y="269.74655" id="tspan6417-7">Minimal Cartesian Control</tspan><tspan sodipodi:role="line" x="278.39978" y="288.49655" id="tspan6506">of an arm</tspan></text>
    <rect style="color:#000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:#000000;solid-opacity:1;fill:#dae8f5;fill-opacity:1;fill-rule:evenodd;stroke:#7daedb;stroke-width:0.99999994;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate" id="rect7561-8" width="229.34839" height="66.676514" x="257.37305" y="50.730064" rx="7.8122015" ry="7.8121996" />
    <a id="a6600" xlink:href="/syskit_basics/brief_introduction.html">
      <text sodipodi:linespacing="125%" id="text6409-2" y="88.038048" x="26.263968" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:15px;line-height:125%;font-family:Arial;-inkscape-font-specification:'Arial, Normal';text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" xml:space="preserve"><tspan y="88.038048" x="26.263968" id="tspan6411-1" sodipodi:role="line">A Brief Introduction</tspan></text>
    </a>
    <text xml:space="preserve" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:15px;line-height:125%;font-family:Arial;-inkscape-font-specification:'Arial, Normal';text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" x="271.71277" y="78.575157" id="text6413-0" sodipodi:linespacing="125%"><tspan sodipodi:role="line" x="271.71277" y="78.575157" id="tspan6417-8">Components, Networks</tspan><tspan sodipodi:role="line" x="271.71277" y="97.325157" id="tspan6481">and Syskit</tspan></text>
    <rect style="color:#000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:#000000;solid-opacity:1;fill:#dae8f5;fill-opacity:1;fill-rule:evenodd;stroke:#7daedb;stroke-width:0.99999988;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate" id="rect7561-0-5" width="229.2627" height="66.676514" x="257.41589" y="327.00046" rx="7.8122015" ry="7.8121996" />
    <a xlink:href="runtime.html" id="a6613">
      <text sodipodi:linespacing="125%" id="text6409-6-5" y="365.93246" x="25.287159" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:15px;line-height:125%;font-family:Arial;-inkscape-font-specification:'Arial, Normal';text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" xml:space="preserve"><tspan id="tspan6502-7" y="365.93246" x="25.287159" sodipodi:role="line">Running the Arm Control</tspan></text>
    </a>
    <text xml:space="preserve" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:15px;line-height:125%;font-family:Arial;-inkscape-font-specification:'Arial, Normal';text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" x="278.39978" y="355.10443" id="text6413-8-3" sodipodi:linespacing="125%"><tspan sodipodi:role="line" x="278.39978" y="355.10443" id="tspan6506-2">Running the Network</tspan><tspan sodipodi:role="line" x="278.39978" y="373.85443" id="tspan6545">Runtime Operations</tspan></text>
    <rect style="color:#000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:#000000;solid-opacity:1;fill:#dae8f5;fill-opacity:1;fill-rule:evenodd;stroke:#7daedb;stroke-width:0.99999988;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate" id="rect7561-0-5-3" width="229.2627" height="66.676514" x="257.41589" y="412.86343" rx="7.8122015" ry="7.8121996" />
    <a xlink:href="reactions.html" id="a6617">
      <text sodipodi:linespacing="125%" id="text6409-6-5-0" y="451.79544" x="25.287159" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:15px;line-height:125%;font-family:Arial;-inkscape-font-specification:'Arial, Normal';text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" xml:space="preserve"><tspan id="tspan6502-7-7" y="451.79544" x="25.287159" sodipodi:role="line">Collision Avoidance</tspan></text>
    </a>
    <text xml:space="preserve" style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:15px;line-height:125%;font-family:Arial;-inkscape-font-specification:'Arial, Normal';text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" x="278.39978" y="440.96741" id="text6413-8-3-7" sodipodi:linespacing="125%"><tspan sodipodi:role="line" x="278.39978" y="440.96741" id="tspan6545-6">Reacting to a Sensor Input</tspan><tspan sodipodi:role="line" x="278.39978" y="459.71741" id="tspan6579">in Syskit</tspan></text>
  </g>
</svg>

<h2 id="basic-concepts">Basic Concepts</h2>

<p><strong>Design and runtime</strong> Rock is a model-based architecture. A Rock system is
described <strong>at design time</strong>, that is before any piece of the actual
processing code needs to be run, and can verify properties regarding the
final system then. <strong>Runtime</strong> then refers to the point where the actual data
processing code runs – which involves hardware or simulation in case of
robotics.</p>

<p><strong>Libraries, Components and System</strong> Deep-down, the bulk of the code that
makes a Rock system is organized in libraries. Libraries propose APIs -
interfaces - to solve particular problems, e.g. OpenCV to process images, PCL
to process point clouds, a GPS driver to control a GPS device and read GPS
positions, … This way to organize software development is nothing specific to
Rock or even robotics. It's the principal way software is developed <em>period</em>.</p>

<p>However, libraries <em>offer</em> functionality, but do not specify how this
functionality should be integrated to offer a "runtime", i.e. how the actual
data being processed can be passed to the processing code in the libraries,
from the sensors to the actuators, to turn all that code into a robot.</p>

<p>The paradigm that Rock follows is the one of <strong>components</strong>. Components are
black boxes that have inputs and produce outputs. It's by meshing these
components together - connecting outputs to inputs - that an active
sensor-processing-actuator loop is created and that the robot can act and react
in its environment. In addition to this <em>dataflow interface</em> (data inputs and
outputs), Rock components also offer a <em>configuration</em> interface where parameters
can be chosen and tested. In Rock, these components are implemented in <strong>oroGen
packages</strong>. They are described in an orogen file, which code-generates the
skeleton of the components. oroGen packages also define the datatypes that
can be transferred between the components.</p>

<p>What sets Rock apart from other component-based systems is the ability to
reconfigure the component network to fit the situation as best as possible.
This is made possible by explicitly choosing at any point in time both which
components are active, and which output-input connections are present in the
network. <strong>Syskit</strong> is the tool that makes such a design feasible, pushing most
of the complexity of such a dynamic system into the tool, leaving the developer
make higher-level design decisions.</p>

<p><strong>Software Packages</strong> A software package is a way to distribute code (software).
Rock's only convention is to have a one library = one package correspondence or
one component = one package. Libraries should be "fat", components "slim" (i.e.
most of the functionality should be implemented as a component-independent
library.</p>

<p>That's all for now … <a href="getting_started.html" class="btn btn-primary">let's get started with our Syskit/Gazebo system</a></p>

            </div>
        </div>
    </div>


        <footer class="container-fluid text-center">
            <p>Rock in your own way!</p>
        </footer>
    </body>
</html>
